{"ast":null,"code":"'use client';\n\nimport delay from 'lodash/delay';\nimport addMonths from 'date-fns/addMonths';\nimport addDays from 'date-fns/addDays';\nimport { useEventCallback } from \"../../internals/hooks/index.js\";\nimport { useCustom } from \"../../CustomProvider/index.js\";\nimport { getAriaLabel } from \"../../Calendar/utils/index.js\";\nimport { onMenuKeyDown } from \"../../internals/Picker/utils.js\";\nfunction useFocus(props) {\n  var target = props.target,\n    showMonth = props.showMonth,\n    id = props.id,\n    localeProp = props.locale;\n  var _useCustom = useCustom(),\n    getLocale = _useCustom.getLocale,\n    formatDate = _useCustom.formatDate;\n  var _getLocale = getLocale('DateTimeFormats', localeProp),\n    formattedMonthPattern = _getLocale.formattedMonthPattern,\n    formattedDayPattern = _getLocale.formattedDayPattern;\n\n  /**\n   * Get the corresponding container based on date selection and month selection\n   */\n  var getOverlayContainer = function getOverlayContainer() {\n    return showMonth ? document.getElementById(id + \"-calendar-month-dropdown\") : document.getElementById(id + \"-calendar-table\");\n  };\n\n  /**\n   * Check whether the date is focusable\n   */\n  var checkFocusable = function checkFocusable(date) {\n    var formatStr = showMonth ? formattedMonthPattern : formattedDayPattern;\n    var ariaLabel = getAriaLabel(date, formatStr, formatDate);\n    var container = getOverlayContainer();\n    var dateElement = container === null || container === void 0 ? void 0 : container.querySelector(\"[aria-label=\\\"\" + ariaLabel + \"\\\"]\");\n    if ((dateElement === null || dateElement === void 0 ? void 0 : dateElement.getAttribute('aria-disabled')) === 'true') {\n      return false;\n    }\n    return true;\n  };\n\n  /**\n   * Focus on the currently selected date element\n   */\n  var focusSelectedDate = function focusSelectedDate() {\n    delay(function () {\n      var container = getOverlayContainer();\n      var selectedElement = container === null || container === void 0 ? void 0 : container.querySelector('[aria-selected=\"true\"]');\n      selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.focus();\n    }, 1);\n  };\n\n  /**\n   * Focus on the input element\n   */\n  var focusInput = useEventCallback(function () {\n    delay(function () {\n      var _target$current;\n      return (_target$current = target.current) === null || _target$current === void 0 ? void 0 : _target$current.focus();\n    }, 1);\n  });\n  var onKeyFocusEvent = useEventCallback(function (event, options) {\n    var date = options.date,\n      callback = options.callback;\n    var delta = 0;\n    var step = showMonth ? 6 : 7;\n    var changeDateFunc = showMonth ? addMonths : addDays;\n    onMenuKeyDown(event, {\n      down: function down() {\n        delta = step;\n      },\n      up: function up() {\n        delta = -step;\n      },\n      right: function right() {\n        delta = 1;\n      },\n      left: function left() {\n        delta = -1;\n      }\n    });\n    var nextDate = changeDateFunc(date, delta);\n    if (checkFocusable(nextDate)) {\n      callback(nextDate);\n      focusSelectedDate();\n    }\n  });\n  return {\n    focusInput: focusInput,\n    focusSelectedDate: focusSelectedDate,\n    onKeyFocusEvent: onKeyFocusEvent\n  };\n}\nexport default useFocus;","map":{"version":3,"names":["delay","addMonths","addDays","useEventCallback","useCustom","getAriaLabel","onMenuKeyDown","useFocus","props","target","showMonth","id","localeProp","locale","_useCustom","getLocale","formatDate","_getLocale","formattedMonthPattern","formattedDayPattern","getOverlayContainer","document","getElementById","checkFocusable","date","formatStr","ariaLabel","container","dateElement","querySelector","getAttribute","focusSelectedDate","selectedElement","focus","focusInput","_target$current","current","onKeyFocusEvent","event","options","callback","delta","step","changeDateFunc","down","up","right","left","nextDate"],"sources":["/home/gabriel/Documents/formulario-change/node_modules/rsuite/esm/DatePicker/hooks/useFocus.js"],"sourcesContent":["'use client';\nimport delay from 'lodash/delay';\nimport addMonths from 'date-fns/addMonths';\nimport addDays from 'date-fns/addDays';\nimport { useEventCallback } from \"../../internals/hooks/index.js\";\nimport { useCustom } from \"../../CustomProvider/index.js\";\nimport { getAriaLabel } from \"../../Calendar/utils/index.js\";\nimport { onMenuKeyDown } from \"../../internals/Picker/utils.js\";\nfunction useFocus(props) {\n  var target = props.target,\n    showMonth = props.showMonth,\n    id = props.id,\n    localeProp = props.locale;\n  var _useCustom = useCustom(),\n    getLocale = _useCustom.getLocale,\n    formatDate = _useCustom.formatDate;\n  var _getLocale = getLocale('DateTimeFormats', localeProp),\n    formattedMonthPattern = _getLocale.formattedMonthPattern,\n    formattedDayPattern = _getLocale.formattedDayPattern;\n\n  /**\n   * Get the corresponding container based on date selection and month selection\n   */\n  var getOverlayContainer = function getOverlayContainer() {\n    return showMonth ? document.getElementById(id + \"-calendar-month-dropdown\") : document.getElementById(id + \"-calendar-table\");\n  };\n\n  /**\n   * Check whether the date is focusable\n   */\n  var checkFocusable = function checkFocusable(date) {\n    var formatStr = showMonth ? formattedMonthPattern : formattedDayPattern;\n    var ariaLabel = getAriaLabel(date, formatStr, formatDate);\n    var container = getOverlayContainer();\n    var dateElement = container === null || container === void 0 ? void 0 : container.querySelector(\"[aria-label=\\\"\" + ariaLabel + \"\\\"]\");\n    if ((dateElement === null || dateElement === void 0 ? void 0 : dateElement.getAttribute('aria-disabled')) === 'true') {\n      return false;\n    }\n    return true;\n  };\n\n  /**\n   * Focus on the currently selected date element\n   */\n  var focusSelectedDate = function focusSelectedDate() {\n    delay(function () {\n      var container = getOverlayContainer();\n      var selectedElement = container === null || container === void 0 ? void 0 : container.querySelector('[aria-selected=\"true\"]');\n      selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.focus();\n    }, 1);\n  };\n\n  /**\n   * Focus on the input element\n   */\n  var focusInput = useEventCallback(function () {\n    delay(function () {\n      var _target$current;\n      return (_target$current = target.current) === null || _target$current === void 0 ? void 0 : _target$current.focus();\n    }, 1);\n  });\n  var onKeyFocusEvent = useEventCallback(function (event, options) {\n    var date = options.date,\n      callback = options.callback;\n    var delta = 0;\n    var step = showMonth ? 6 : 7;\n    var changeDateFunc = showMonth ? addMonths : addDays;\n    onMenuKeyDown(event, {\n      down: function down() {\n        delta = step;\n      },\n      up: function up() {\n        delta = -step;\n      },\n      right: function right() {\n        delta = 1;\n      },\n      left: function left() {\n        delta = -1;\n      }\n    });\n    var nextDate = changeDateFunc(date, delta);\n    if (checkFocusable(nextDate)) {\n      callback(nextDate);\n      focusSelectedDate();\n    }\n  });\n  return {\n    focusInput: focusInput,\n    focusSelectedDate: focusSelectedDate,\n    onKeyFocusEvent: onKeyFocusEvent\n  };\n}\nexport default useFocus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}